{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Sets up a VPC Flow Logs Subscription Filter for delivery to a Kinesis Stream destination",
  "Parameters": {
    "pVPCFlowLogGroupName": {
      "Description": "Name of VPC Flow Log Log Group",
      "Type": "String",
      "Default": ""
    },
    "pKinesisStreamArn": {
      "Description": "ARN of the Kinesis Stream",
      "Type": "String",
      "Default": ""
    },
    "pCloudWatchLogstoKinesisRoleArn": {
      "Description": "ARN of the CloudWatch Logs to Kinesis Role",
      "Type": "String",
      "Default": ""
    }
  },
  "Resources": {
    "rCWLSubscriptionFilter": {
      "Type": "AWS::Logs::SubscriptionFilter",
      "Properties": {
        "DestinationArn": {"Ref": "pKinesisStreamArn"},
        "FilterPattern": "",
        "LogGroupName": {"Ref": "pVPCFlowLogGroupName"},
        "RoleArn": {"Ref": "pCloudWatchLogstoKinesisRoleArn"}
      }
    }
  }
}
